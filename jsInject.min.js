"use strict";(function(e){function r(){this.container={}}function i(){var e=new r,t=this;this.get=e.get.bind(e);this.register=e.register.bind(e);e.container["$$jsInject"]=function(){return t}}var t=20,n=function(e){return Object.prototype.toString.call(e)==="[object Array]"};r.ERROR_RECURSION="Maximum recursion at ";r.ERROR_REGISTRATION="Already registered.";r.ERROR_ARRAY="Must pass array.";r.ERROR_FUNCTION="Must pass function to invoke.";r.ERROR_SERVICE="Service does not exist.";r.prototype.get=function(e,t){var n=this.container[e],i=t||0;if(n){return n(i)}throw r.ERROR_SERVICE};r.prototype.invoke=function(e,n,i,s){var o=0,u=[],a=s||0;if(a>t){throw r.ERROR_RECURSION+a}for(;o<n.length;o+=1){u.push(this.get(n[o],a+1))}return e.apply(i,u)};r.prototype.register=function(e,t){if(!n(t)){throw r.ERROR_ARRAY}if(this.container[e]){throw r.ERROR_REGISTRATION}if(typeof t[t.length-1]!=="function"){throw r.ERROR_FUNCTION}var i=this;this.container[e]=function(n){var r=n||0,s=function(){},o={},u,a=t[t.length-1],f=t.length===1?t[0].$$deps||[]:t.slice(0,t.length-1),l;s.prototype=a.prototype;u=new s;l=i.invoke(a,f,u,r+1);o=l||u;i.container[e]=function(){return o};return o}};e.$$jsInject=i})(window)
